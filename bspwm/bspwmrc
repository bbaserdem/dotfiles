#! /bin/sh

# Startup programs
sxhkd &
startup.sh &

if [[ $(hostname) == 'sbplaptop' ]]
then
    # Laptop
    bspc monitor $MON_HOME_0 -d 1 2 3 4 5 6 7 8 9 0
    bspc monitor $MON_HOME_1 -r
    bspc config merge_overlapping_monitors  true
elif [[ $(hostname) == 'sbpworkstation' ]]
then
    bspc monitor $MON_WORK_1 -r
    bspc monitor $MON_WORK_0 -d 1 2 3 4 5 6 7 8 9
    bspc monitor $MON_WORK_1 -d 0
else
    bspc monitor -d 1 2 3 4 5 6 7 8 9 0
fi

bspc config border_width                0
bspc config window_gap                  24
bspc config external_rules_command      $XDG_CONFIG_HOME/bspwm/ext_rule

bspc config split_ratio                 0.5
bspc config borderless_monocle          false
bspc config gapless_monocle             false
bspc config focus_follows_pointer       true
bspc config focused_border_color        '#A5A5A5'
bspc config remove_disabled_monitors    true
bspc config remove_unplugged_monitors   true
bspc config pointer_follows_monitor     true
bspc config honor_size_hints            true
bspc config initial_polarity            second_child

# Fixing Windows
bspc rule -a Pinentry               state=floating
bspc rule -a Zathura                state=tiled
bspc rule -a libreoffice-writer     state=tiled
bspc rule -a LibreOffice            state=tiled
bspc rule -a Steam                  state=tiled follow=no
bspc rule -a "Virtualbox Machine"   state=tiled
bspc rule -a rdesktop               state=floating

# Java fix
export _JAVA_AWT_WM_NONREPARENTING=1
wmname LG3D
